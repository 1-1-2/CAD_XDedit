# XDedit - 扩展数据编辑工具

## 简介

这是一个AutoLISP脚本，旨在通过图形界面方便地查看和编辑AutoCAD实体的扩展数据（XData）。

该脚本允许用户在图形界面中查看选定实体的扩展数据，并对这些数据进行编辑。

## 功能

- **鼠标移动查询**：当鼠标指向具有扩展数据的实体时，脚本会实时显示该实体的扩展数据。
- **点选编辑**：用户可以通过左键单击鼠标，打开一个对话框，对实体的扩展数据进行编辑。
- **右键退出**：右键单击鼠标可退出脚本。

## 使用方法

1. **加载脚本**：在AutoCAD中加载`xedit.lsp`脚本。可以通过在命令行输入 `(load "xedit.lsp")` 或使用AutoCAD的LISP加载器来加载脚本。

2. **启动命令**：脚本加载后，在命令行输入 `xvg` 来启动该工具。

3. **查看扩展数据**：启动后，将鼠标移动到具有扩展数据的实体上，屏幕上会显示该实体的扩展数据。

4. **编辑扩展数据**：
   - 使用鼠标左键单击具有扩展数据的实体。
   - 脚本会自动生成一个对话框，显示实体的所有扩展数据。
   - 用户可以在对话框中编辑这些数据。
   - 点击“确认”按钮以保存更改，或点击“取消”按钮放弃更改。

5. **退出工具**：单击右键鼠标以退出脚本。

## 注意事项

- 该脚本会在临时目录下生成一个DCL（对话框）文件，会自动随系统其它临时文件在例如重启时被删除。
- 请确保在AutoCAD中启用了LISP功能，并且您的系统具有相应的权限以在运行时创建和删除临时文件。

## 错误处理

- 如果在执行过程中发生错误，脚本会尝试恢复AutoCAD的初始状态，并删除所有由脚本创建的临时对象。

## 已知问题

- **图层绘制顺序**：即时查看时，背景在某些情况下会浮在文字上方，并伴随 Windows 光标进入 BUSY 状态（进入未处理的死循环了？）。如果在 LOOP 中调用 `DRAWORDER` 将背景置于底部，会带来显著的性能下降。目前是注释掉了，还没查到解决办法┑(￣Д ￣)┍。

## 许可

该脚本基于网络搜集的未署名脚本修改，您可以根据需要自由使用和修改，欢迎 PR。
